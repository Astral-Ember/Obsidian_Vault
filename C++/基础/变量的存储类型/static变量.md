static变量

1. static变量
2. 静态全局变量和全局变量的区别

静态变量  
用法：  
static 变量类型 变量名;  
作用：  
static 修饰的变量会在程序的整个生命周期内存储  
就算在函数内声明，也遵循这一规则  
它可以用来声明静态局部变量、静态全局变量 或 静态类成员（以后学习）等  
声明一次，永久使用  
生命周期：  
静态局部变量的生命周期是整个程序运行期，即使函数返回，它也不会被销毁。  
静态全局变量的生命周期也是整个程序运行期  
优点：  
静态变量只初始化一次，且一直保留值，适合全局共享信息或缓存的场景  
缺点：  
静态变量会一直占用内存空间，直到程序结束，因此会增加内存消耗  
注意：  
除非有需求，不要过多使用静态变量  
e.g.

1. 静态局部变量
2. 静态全局变量

|   |
|---|
|void test()  <br>{  <br>//静态局部变量 只有在第一次调用时才会去初始化 之后就一直存在了  <br>//不会重复的去分配内存空间（不会重复声明）  <br>static int num = 0;  <br>cout \<\< num \<\< '\n';  <br>++num;  <br>}  <br>int main()  <br>{  <br>test();//0  <br>test();//1  <br>}|

p.s.我觉得这个可以用在递归中（计算1! + 2! + 3! + 4! + 5! + 6! + 7! + 8! + 9! + 10!）

|   |
|---|
|#include\<iostream\>  <br>using namespace std;  <br>int test(int i)  <br>{  <br>//静态局部变量 只有在第一次调用时才会去初始化 之后就一直存在了  <br>//不会重复的去分配内存空间（不会重复声明）  <br>static int s = 0;  <br>int c = 1;  <br>for(int j=1;j\<=i;j++)  <br>{  <br>c = c * j;  <br>}  <br>s += c;  <br>++i;  <br>if (i \> 10)  <br>{  <br>return s;  <br>}  <br>test(i);  <br>}  <br>int main()  <br>{  <br>cout\<\<test(1);  <br>}|

|   |
|---|
|//静态全局变量，伴随整个程序的生命周期  <br>static int testnum = 5;|

它们的主要区别就是作用域不同，其他是一样的  
全局变量：  
可以在多个文件中访问，可以适合需要共享数据的情况  
静态全局变量：  
只能在定义它的文件中访问，适合只在单个源文件内部使用的数据