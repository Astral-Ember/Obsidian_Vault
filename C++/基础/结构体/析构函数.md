析构函数

1. 析构函数的基本概念
2. 析构函数的声明
3. 析构函数的使用

解析构函数 是当对象被解释放时会调用的方法  
也就意味着在解析函数中主要处理的就是堆内存回收相关的工作  
因为堆内存空间需要我们自己手动回收
 
它的主要作用就是用来当结构体对象被解释放时  
能够将其中在堆上分配的内容清理掉，避免内存泄漏  
基本规则  
声明在结构体中  
没有返回值，没有参数  
函数名必须和结构体名相同，并且在前面加一个~符号  
能有一个解析函数，不能重载  
如果类别没有定义解析函数，编译器会自动生成一个默认的解析函数，该函数会按照调用所所有成员的解析函数逐个调用

|   |
|---|
|struct Student  <br>{  <br>int age;  <br>string name;  <br>Student* p;  <br>Student(int a, string n) :age(a), name(n), p(nullptr) {}  <br>~Student()  <br>{  <br>if(p!=nullptr)  <br>delete p;  <br>}  <br>};|

解析函数不需要我们手动调用  
它是自动调用的函数  
当对象的生命周期结束时，解析函数会自动被调用  
对象释放时机：  
栈中的内容，当对象超出作用域时就会释放  
堆中的内容，delete 删除对象时就会释放