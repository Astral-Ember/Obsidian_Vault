指针和常量

1. 常量知识回顾
2. 指向常量的指针（常量指针）
3. 指针常量
4. 指向常量的指针常量
5. 总结

常量是指在程序执行过程中其值不能被修改的变量，大部分的常量在声明时都必须被初始化  
必须初始化  
不能被修改

|   |
|---|
|const int i = 10;  <br>int const i2 = 100;|

注意：  
指向常量的指针，并不是只能指向常量，也可以指向普通变量  
这样的命名的主要原因是，这种指针不能改变量的值，类似常量的特点
 
在指向常量的指针，在*前面加一个const  
特点：  
可以改变量指针指向的地址，但是不能改变量（不能直接改变指向地址的值）

|                                                                                                                                                                                                                   |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| int i = 1;  <br>int j = 10;  <br>const int* p = &i;  <br>int const *p2 = &i;  <br>//*p= 10;  <br>//*p2 = 10;  <br>//在*前加上const关键字的指针 称为指向 常量的指针  <br>//这样写是不行的会报错  <br>p = &j;  <br>p2 = &j;  <br>//但是可以改变指针指向的地址 |

注意：  
指针常量，不能指向常量，可以指向普通变量  
这样命名的主要原因是，这种指针不能改变指向，但是可以改变指向地址中存储的值
 
指针常量，在*后加上const  
特点：  
不能改变指针指向的地址，但是可以改变值（指针指向地址中存储的值）

|   |
|---|
|int i = 1;  <br>int j = 2;  <br>int* const p = &i;  <br>*p = 20;  <br>cout\<\<*p\<\<' '\<\<i\<\<endl;  <br>//改变值是合法的  <br>//p = &j;  <br>//改变地址会报错|

指向常量的指针：可以改变地址指向，但不能改变地址中存储的值  
指针常量：不能改变指针指向的地址，可以改变地址中存储的值  
那么，如果想要地址和值都不能改变，那么就可以构建一个指向常量的指针常量，即前后都加上 const

|   |
|---|
|const int j = 2;  <br>int const i = 1;  <br>const int *const p = &i;  <br>p=&j;//改变指向会报错  <br>*p = 12;//改变值会报错  <br>cout\<\<*p\<\<endl;|

指向常量的指针：const 在 * 前面去添加即可，值不能改，指向可以改  
指针常量：const 在 * 后面去添加即可，值可以改，指向不能改  
指向常量的指针常量：const 在 * 前后都加，值和指向都不能改了