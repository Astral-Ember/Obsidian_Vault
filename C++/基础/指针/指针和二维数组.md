指针和二维数组

1. 指针和二维数组的关系
2. 建立关系
    1. 指针类型和二维数组类型一致
    2. 按元素建立关系
    3. 按行数组建立关系
3. 利用指针获取二维数组元素
    
    由于二维数组的存储是连续的  
    因此利用指针增减也可以获取到所有元素
    
    2. 按元素获取的指针
    3. 用数组指针获取元素
4. 数组当作指针变量使用
    1. 利用行地址来获取元素
    2. 利用二维组名来获取元素
    3. 二维数组名和数组指针有什么区别？
5. 利用指针遍历数组

二维数组在内存中也是连续存储的  
因此我们只要利用指针获取到二维数组一开始的位置  
就可以通过指针的 增减 获取到二维数组中的所有信息

|   |
|---|
|int arr[3][4] = { {1,2,3,4},{5,6,7,8},{9,10,11,12} };  <br>int* p = &arr[0][0];//得到的是数组首元素的地址  <br>int* ptr = arr[0];//得到的是数组首行元素的地址|

按行数组建立关系  
利用数组指针，获取二维数组中一行的一维数组起始地址  
数组指针是一个指向整个数组的指针  
本质上是一个指针，指向一个包含 n 个元素的数组  
数组指针定义规则：变量类型（*指针名）[元素个数]  
int (*p2)[4] 表示指向包含4个int元素的一维数组的指针  
int: 数组中元素的类型  
*p: 指针变量  
[4]: 表示这个指针指向的数组包含4个int元素

|   |
|---|
|int(*p2)[4] = arr;|

指向二维数组中的第一个一维数组的指针

|   |
|---|
|cout \<\< "按元素获取内容" \<\< '\n';  <br>cout \<\< *p \<\< '\n';//1  <br>cout \<\< *(p + 1)\<\<'\n';//2  <br>cout\<\<*++p\<\<'\n';//自增//2  <br>cout \<\< *(p + 6) \<\< '\n';//8|

注意：  
要在范围内访问（0到数组最大值之间）  
不要越界

|   |
|---|
|int(*p2)[4] = arr;|

p2是什么？类型是数组指针 int (*)[4]；指向的内容：二维数组中的第一个一维数组  
*p2是什么？类型是指向一维数组的指针 int*；指向的内容：指向二维数组中的第一个一维数组中的第一个元素  
十分重要！！！

|   |
|---|
|int arr[3][4] = { {1,2,3,4},{5,6,7,8},{9,10,11,12} };  <br>int(*p2)[4] = arr;//p2是一个二维数组的指针，*p2[0]得到数组首行元素，*p2[1]得到数组第二行元素，*p2是首行的地址<br><br>  <br><br>cout \<\< p2 \<\< '\n';//p2得到数组首行的地址  <br>cout \<\< p2 + 1 \<\< '\n';//p2+1得到数组第二行的地址(内存地址垮了一行)  <br>cout \<\< *(p2 + 1) \<\< '\n';//指向第二行第一个元素(地址)  <br>cout \<\< *(*(p2 + 1)) \<\< '\n';//解引用得到数组第二行首元素5  <br>cout \<\< *(*(p2 + 1) + 1) \<\< '\n';//解引用得到数组第二行第二元素6<br><br>  <br><br>cout\<\< *p2 \<\< '\n';//*p2得到数组首行首元素  <br>cout\<\< *p2 + 1 \<\< '\n';//*p2+1得到数组首行第二元素（内存地址跨了一列）(均为地址）  <br>cout \<\< *(*p2) \<\< '\n';//1  <br>cout \<\< *(*p2 + 1) \<\< '\n';//2<br><br>  <br><br>//结合数组指针 利用数组思维实现二维数组的遍历  <br>cout \<\< p2[1] \<\< '\n';//与p2+1等价，得到数组第二行地址  <br>cout \<\< *p2[1] \<\< '\n';//与*(p2+1)等价，得到数组第二行首元素的值  <br>cout \<\< (*p2)[0] \<\< '\n';//与*p2等价，得到数组首行首元素的值  <br>cout \<\< (*p2)[1] \<\< '\n';//与*(*p2+1)等价，得到数组首行第二元素的值  <br>cout \<\< (*(p2 + 1))[0] \<\< '\n';//与*(p2+1)等价，得到数组第二行首元素的值  <br>cout \<\< (*(p2 + 1))[1] \<\< '\n';//与*( *(p2+1)+1)等价，得到数组第二行第二元素的值)|

先得到行首地址，再通过加减获取某行某元素

|   |
|---|
|int arr[3][4] = { {1,2,3,4},{5,6,7,8},{9,10,11,12} };  <br>int(*p2)[4] = arr;//p2是一个二维数组的指针，*p2[0]得到数组首行元素，*p2[1]得到数组第二行元素，*p2是首行的地址  <br>cout \<\< *arr[0]+1 \<\< '\n';//2  <br>cout \<\< *arr[0]+2 \<\< '\n';//3  <br>cout \<\< *arr[1] + 1 \<\< '\n';//6  <br>cout \<\< *arr[1] + 2 \<\< '\n';//7|

关键知识：  
二维数组名 可以理解为一个 int (*)[4] 类型的指针  
arr 和 *arr 的区分  
就像前面讲解的 p2 和 *p2 的区分  
对于我们来说，知道的是  
arr + 1 会按行偏移  
偏移后得到的地址是当前行的首地址  
arr的使用规则和数组指针p2使用规则是一样的

|   |
|---|
|cout \<\< *(*(arr + 1) + 2) \<\< '\n';//7|

它们通过sizeof获取容量时  
二维数组名得到的是实实在在的这个二维数组占用了多少字节  
数组指针（只要是指针）占用的内存空间是8个字符

|   |
|---|
|int arr[3][4] = { {1,2,3,4},{5,6,7,8},{9,10,11,12} };  <br>int(*p2)[4] = arr;//p2是一个二维数组的指针，*p2[0]得到数组首行元素，*p2[1]得到数组第二行元素，*p2是首行的地址<br><br>  <br><br>for(int i=0;i\<3;i++)  <br>{  <br>for(int j=0;j\<4;j++)  <br>{  <br>cout \<\< (*p2 + i)[j] \<\< " ";  <br>}  <br>cout \<\< '\n';  <br>}|