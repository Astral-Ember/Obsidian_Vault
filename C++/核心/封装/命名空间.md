命名空间

1. 命名空间是声明
2. 命名空间的声明和定义
3. 命名空间的使用
4. 命名空间可以分散式声明
5. 嵌套命名空间
6. 命名空间别名
7. 匿名命名空间

命名空间是为了防止命名冲突而设计的一种机制  
我们在声明全局变量、函数、类等内容时，是不能够在同一作用域中重命名的  
而有了命名空间，我们可以在不同命名空间中声明同名内容  
命名空间就像是一个工具包，在其中可以放置一些相同名字的工具
 
在哪里声明和定义：  
命名空间是在 .h 和 .cpp 中都可以声明和定义  
如果在 .cpp 中声明和定义就只能在该文件中使用，不能在其他文件中使用  
如果在 .h 中声明，那么可以通过引用外部文件的形式，在其他文件中使用  
注意：如果在 .h 中定义全局变量，需要加 [extern 关键字](extern变量.md)  
(extern 关键字在此处的作用是 在命名空间中写全局变量时， 如果变量要在多个文件中共享使用，就必须在头文件中写 extern 声明，在 .cpp 文件中实际定义)  
声明语句：  
namespace 命名空间名  
{  
变量  
函数  
类  
等等  
}
 
想要使用命名空间，除了引用头文件外  
需要指定使用内容来自哪个命名空间  
基本语法：  
命名空间名::变量名（函数名或类名）  
或者在顶端使用 using namespace 命名空间名  
这样可以在使用时省略前面的内容  
但是有可能导致命名冲突

![Exported image](Exported%20image%2020251125140121-0.png)

|                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| #pragma once  <br>#include\<iostream\>  <br>using namespace std;  <br>namespace outer1  <br>{  <br>extern int i = 10;  <br>void test();  <br>}  <br>class outer  <br>{  <br>public:  <br>int a = 20;  <br>void test();  <br>class inner  <br>{  <br>public:  <br>int a = 10;  <br>void test();  <br>private:  <br>int b = 20;  <br>friend class outer;  <br>};  <br>inner i;  <br>void test2()  <br>{  <br>cout\<\<i.b\<\<endl;  <br>}<br><br>  <br><br>}; | #include "outer.h"  <br>#include\<iostream\>  <br>using namespace outer1;  <br>using namespace std;  <br>void outer1::test()  <br>{  <br>cout\<\<"outer1"\<\<endl;  <br>}  <br>void outer::test()  <br>{  <br>cout\<\<"outer"\<\<endl;  <br>}  <br>void outer::inner::test()  <br>{  <br>cout \<\< "inner" \<\< endl;  <br>}  <br>int main()  <br>{  <br>outer o;  <br>o.test();  <br>o.test2();  <br>outer::inner i;  <br>i.test();  <br>cout \<\< outer1::i \<\< '\n';  <br>outer1::test();  <br>} |

如果我们在多个文件中声明同一个 命名空间 那么它们代表的是一个命名空间  
命名空间可以类似[嵌套类](嵌套类.md)一样无限嵌套  
基本语法  
namespace 自定义名 = 命名空间名
 
作用  
可以简化复杂的命名空间名  
匿名命名空间变量、函数、类的作用域只在当前 .cpp 文件中  
防止和其他文件冲突，实现更好的封装，是 static 的现代替代品  
仅在当前文件中可见，允许在多个 .cpp 文件中定义同名函数或变量时，不会有重定义问题  
注意：不能在头文件中使用匿名命名空间

|   |
|---|
|namespace  <br>{  <br>int noname = 10;  <br>}|
